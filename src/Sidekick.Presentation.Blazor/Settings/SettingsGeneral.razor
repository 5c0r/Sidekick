@page "/settings"
@using Sidekick.Presentation.Blazor.Settings.Components

<SettingsLayout>
    <MudCard>
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">@Localizer[SettingsResources.Language_Title]</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <UILanguageSelect @bind-Value="ViewModel.Language_UI"></UILanguageSelect>
            <GameLanguageSelect @bind-Value="ViewModel.Language_Parser"></GameLanguageSelect>
        </MudCardContent>
    </MudCard>
    <MudCard Class="mt-6">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">@Localizer[SettingsResources.Character_Title]</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <LeagueSelect @bind-Value="ViewModel.LeagueId"></LeagueSelect>
            <MudTextField Label="@Localizer[SettingsResources.Character_Name]"
                          Variant="Variant.Filled"
                          @bind-Value="ViewModel.Character_Name" />
        </MudCardContent>
    </MudCard>
    <MudCard Class="mt-6">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">@Localizer[SettingsResources.Cheatsheets]</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <KeybindEditor Label="@Localizer[SettingsResources.Cheatsheets_Key_Open]"
                           @bind-Value="ViewModel.Cheatsheets_Key_Open" />
        </MudCardContent>
    </MudCard>
    <MudCard Class="mt-6">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">@Localizer[SettingsResources.Group_Other]</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <div>
                <MudCheckBox Label="@Localizer[SettingsResources.General_ShowSplashScreen]"
                             @bind-Checked="@ViewModel.ShowSplashScreen"></MudCheckBox>
            </div>
            <div>
                <MudCheckBox Label="@Localizer[SettingsResources.General_RetainClipboard]"
                             @bind-Checked="@ViewModel.RetainClipboard"></MudCheckBox>
            </div>
            <KeybindEditor Label="@Localizer[SettingsResources.Key_OpenSettings]"
                           @bind-Value="ViewModel.Key_OpenSettings" />
            <KeybindEditor Label="@Localizer[SettingsResources.Key_FindItems]"
                           @bind-Value="ViewModel.Key_FindItems" />
        </MudCardContent>
    </MudCard>
</SettingsLayout>

@code {
    [Inject] private IStringLocalizer<SettingsResources> Localizer { get; set; }
    [Inject] private SettingsViewModel ViewModel { get; set; }
}
